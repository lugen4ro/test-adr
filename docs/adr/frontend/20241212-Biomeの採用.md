# Biomeの採用

## ステータス

Approved

## 背景

コードのフォーマット、書式チェックをするにあたってLinterを検討する必要がある。

選択肢としては ESLint & Prettier と Biome とした。

主な要件は以下の通り。

- コード品質の一貫性を保つこと
- 開発環境のパフォーマンスを維持すること
- メンテナンスコストを最小限に抑えること

## 結論

Biomeを採用する。 現時点で凝った設定を必要としないため、Biomeの推奨設定を利用することで簡単に導入できると判断した。

また、ESLint（typescript-eslint） & Prettierと比べて動作が軽量であるため、開発環境の負荷を軽減できると考えた。

## 論点

ツール比較の詳細は以下の通り。

**Biome**

- 単一のツールでLintとフォーマットに対応
- Rustベースで高速な実行
- 最小限の設定で運用可能
- VSCode等のエディタ拡張が利用可能

**ESLint & Prettier**

- 豊富なプラグインエコシステム
- カスタマイズ性が高い
- コミュニティでの利用実績が豊富
- 様々なフレームワークやライブラリに対応

## 適用した結果

## **Pros**

- 解析/フォーマットの設定を全てBiomeに一任することで、開発環境に導入する依存関係が少なくなる
- 設定ファイルが一元化され、メンテナンスが容易になる
- 高速な実行により、開発体験が向上する
- チーム間でのコードスタイルの統一が容易になる

## **Cons**

- VSCode上でのmonorepo対応が不十分
- ESLint Pluginが利用できなくなるため、以下の機能が制限される
  - ライブラリやツール独自のルールチェック
  - フレームワーク固有の推奨設定
  - カスタムルールの作成
- 社内での利用実績がESLintと比べて少ない

## 撤退条件

以下の状況が発生した場合、ESLint & Prettierへの移行を検討する

- Biomeの設定が複雑化し、メンテナンスコストが増加する
- チームメンバーの学習コストが想定以上に高く、開発速度に影響が出る
- VSCode上でのmonorepo対応が不十分で、開発効率が著しく低下する
- ライブラリやツールなどの独自ルールチェックが必要となり、Biomeでは対応できない
